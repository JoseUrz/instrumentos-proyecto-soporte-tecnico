<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gr√°ficos - An√°lisis de Resultados</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            padding: 30px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .chart-section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .chart-subtitle {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        
        .chart-container.small {
            height: 300px;
        }
        
        .chart-container.large {
            height: 500px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 36px;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .button-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .btn {
            background: #667eea;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .note {
            background: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        @media print {
            body {
                background: white;
            }
            
            .chart-section {
                page-break-inside: avoid;
            }
            
            .button-container {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Gr√°ficos de An√°lisis de Resultados</h1>
            <p>Proyecto: Implementar y Optimizar el Soporte T√©cnico en Campo</p>
        </div>
        
        <div class="button-container">
            <button class="btn" onclick="descargarTodos()">üì• Descargar Todos los Gr√°ficos</button>
            <button class="btn" onclick="window.print()">üñ®Ô∏è Imprimir Todos</button>
        </div>
        
        <!-- Gr√°fico 1: Estimaci√≥n de Escalamientos Innecesarios -->
        <div class="chart-section" id="section-1">
            <div class="chart-title">Figura 1. Estimaci√≥n de Escalamientos Innecesarios por Supervisores</div>
            <div class="chart-subtitle">Secci√≥n 9.1.2 - Porcentaje de incidentes que podr√≠an resolverse remotamente</div>
            <div class="chart-container">
                <canvas id="chart1"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart1', 'escalamientos-innecesarios')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 2: Perfil Demogr√°fico - Edad -->
        <div class="chart-section" id="section-2">
            <div class="chart-title">Figura 2. Distribuci√≥n por Edad de T√©cnicos en Campo</div>
            <div class="chart-subtitle">Secci√≥n 9.2.1 - Perfil demogr√°fico de participantes</div>
            <div class="chart-container small">
                <canvas id="chart2"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart2', 'distribucion-edad')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 3: Nivel Educativo -->
        <div class="chart-section" id="section-3">
            <div class="chart-title">Figura 3. Nivel Educativo de T√©cnicos en Campo</div>
            <div class="chart-subtitle">Secci√≥n 9.2.1 - Formaci√≥n acad√©mica del personal t√©cnico</div>
            <div class="chart-container small">
                <canvas id="chart3"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart3', 'nivel-educativo')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 4: Desplazamientos Semanales -->
        <div class="chart-section" id="section-4">
            <div class="chart-title">Figura 4. Frecuencia de Desplazamientos Semanales</div>
            <div class="chart-subtitle">Secci√≥n 9.2.2 - N√∫mero promedio de desplazamientos f√≠sicos por semana</div>
            <div class="chart-container">
                <canvas id="chart4"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart4', 'desplazamientos-semanales')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 5: Potencial Resoluci√≥n Remota -->
        <div class="chart-section" id="section-5">
            <div class="chart-title">Figura 5. Porcentaje de Desplazamientos que Podr√≠an Resolverse Remotamente (Percepci√≥n T√©cnicos)</div>
            <div class="chart-subtitle">Secci√≥n 9.2.2 - Estimaci√≥n de t√©cnicos sobre casos evitables</div>
            <div class="chart-container">
                <canvas id="chart5"></canvas>
            </div>
            <div class="note">
                <strong>Hallazgo clave:</strong> El 77% de los t√©cnicos estima que m√°s del 25% de sus desplazamientos podr√≠an resolverse de forma remota, con un 33% considerando que m√°s del 50% son potencialmente evitables.
            </div>
            <button class="btn" onclick="descargarGrafico('chart5', 'potencial-remoto')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 6: Tipos de Incidentes M√°s Frecuentes -->
        <div class="chart-section" id="section-6">
            <div class="chart-title">Figura 6. Tipos de Incidentes M√°s Frecuentes Atendidos en Campo</div>
            <div class="chart-subtitle">Secci√≥n 9.2.2 - Top 3 incidentes por frecuencia</div>
            <div class="chart-container">
                <canvas id="chart6"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart6', 'tipos-incidentes')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 7: Frecuencia de Uso de Herramientas Remotas -->
        <div class="chart-section" id="section-7">
            <div class="chart-title">Figura 7. Frecuencia de Uso de Herramientas Remotas Antes de Desplazarse</div>
            <div class="chart-subtitle">Secci√≥n 9.2.3 - Uso actual de herramientas de soporte remoto</div>
            <div class="chart-container">
                <canvas id="chart7"></canvas>
            </div>
            <div class="note">
                <strong>Hallazgo cr√≠tico:</strong> Solo el 39% de los t√©cnicos utiliza herramientas remotas siempre o frecuentemente antes de desplazarse. El 61% las usa ocasionalmente, raramente o nunca.
            </div>
            <button class="btn" onclick="descargarGrafico('chart7', 'frecuencia-herramientas')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 8: Nivel de Dominio de Herramientas -->
        <div class="chart-section" id="section-8">
            <div class="chart-title">Figura 8. Nivel de Dominio Autoevaluado en Herramientas de Soporte Remoto</div>
            <div class="chart-subtitle">Secci√≥n 9.2.3 - Escala 1-5 (1=Muy bajo, 5=Muy alto)</div>
            <div class="chart-container">
                <canvas id="chart8"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart8', 'dominio-herramientas')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 9: Limitaciones T√©cnicas -->
        <div class="chart-section" id="section-9">
            <div class="chart-title">Figura 9. Limitaciones T√©cnicas para Soporte Remoto Identificadas</div>
            <div class="chart-subtitle">Secci√≥n 9.2.3 - Principales barreras operativas</div>
            <div class="chart-container large">
                <canvas id="chart9"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart9', 'limitaciones-tecnicas')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 10: Cumplimiento de SLA -->
        <div class="chart-section" id="section-10">
            <div class="chart-title">Figura 10. Frecuencia de Cumplimiento de SLA</div>
            <div class="chart-subtitle">Secci√≥n 9.2.5 - Porcentaje de cumplimiento reportado por t√©cnicos</div>
            <div class="chart-container">
                <canvas id="chart10"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart10', 'cumplimiento-sla')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 11: Causas de Incumplimiento SLA -->
        <div class="chart-section" id="section-11">
            <div class="chart-title">Figura 11. Principales Causas de Incumplimiento de SLA</div>
            <div class="chart-subtitle">Secci√≥n 9.2.5 - Factores que impiden cumplir con tiempos establecidos</div>
            <div class="chart-container">
                <canvas id="chart11"></canvas>
            </div>
            <div class="note">
                <strong>Hallazgo significativo:</strong> La distancia y tiempo de desplazamiento es la causa dominante (44%) de incumplimiento de SLA, lo cual refuerza directamente la propuesta de valor del proyecto.
            </div>
            <button class="btn" onclick="descargarGrafico('chart11', 'causas-incumplimiento')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 12: Disposici√≥n al Cambio -->
        <div class="chart-section" id="section-12">
            <div class="chart-title">Figura 12. Disposici√≥n para Adoptar Nuevas Herramientas y Metodolog√≠as</div>
            <div class="chart-subtitle">Secci√≥n 9.2.6 - Apertura al cambio del personal t√©cnico</div>
            <div class="chart-container small">
                <canvas id="chart12"></canvas>
            </div>
            <div class="note">
                <strong>Indicador positivo:</strong> El 83% est√° dispuesto o totalmente dispuesto a adoptar cambios, con 0% de resistencia activa. Este es un indicador extremadamente positivo para la viabilidad de implementaci√≥n.
            </div>
            <button class="btn" onclick="descargarGrafico('chart12', 'disposicion-cambio')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 13: Observaci√≥n Directa - Distribuci√≥n de Casos -->
        <div class="chart-section" id="section-13">
            <div class="chart-title">Figura 13. Distribuci√≥n de Casos Observados por Tipo de Incidente</div>
            <div class="chart-subtitle">Secci√≥n 9.4.1 - An√°lisis de 127 casos durante 5 d√≠as de observaci√≥n</div>
            <div class="chart-container">
                <canvas id="chart13"></canvas>
            </div>
            <button class="btn" onclick="descargarGrafico('chart13', 'distribucion-casos')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Gr√°fico 14: Tasa de Resoluci√≥n vs Escalamiento -->
        <div class="chart-section" id="section-14">
            <div class="chart-title">Figura 14. Comparaci√≥n de Resoluci√≥n Remota vs. Escalamiento a Campo por Tipo de Incidente</div>
            <div class="chart-subtitle">Secci√≥n 9.4.1 - Datos de observaci√≥n directa</div>
            <div class="chart-container large">
                <canvas id="chart14"></canvas>
            </div>
            <div class="note">
                <strong>An√°lisis cr√≠tico:</strong> El 28.6% de los problemas de software/aplicaciones se escalan a campo, a pesar de que este tipo de incidentes t√≠picamente pueden resolverse remotamente. Esto representa un √°rea de oportunidad significativa.
            </div>
            <button class="btn" onclick="descargarGrafico('chart14', 'resolucion-escalamiento')">üíæ Descargar este gr√°fico</button>
        </div>
        
        <!-- Resumen Comparativo -->
        <div class="chart-section" id="section-15">
            <div class="chart-title">Figura 15. Triangulaci√≥n de Datos: Estimaci√≥n de Escalamientos Innecesarios</div>
            <div class="chart-subtitle">Secci√≥n 9.5.1 - Convergencia desde m√∫ltiples fuentes</div>
            <div class="chart-container">
                <canvas id="chart15"></canvas>
            </div>
            <div class="note">
                <strong>Validaci√≥n cruzada:</strong> La convergencia de datos desde tres fuentes independientes (supervisores, t√©cnicos y observaci√≥n directa) valida la magnitud del problema y justifica la necesidad urgente de intervenci√≥n. Estimaci√≥n consolidada: entre 30% y 44% de los desplazamientos actuales podr√≠an evitarse mediante gesti√≥n remota efectiva.
            </div>
            <button class="btn" onclick="descargarGrafico('chart15', 'triangulacion-datos')">üíæ Descargar este gr√°fico</button>
        </div>
    </div>
    
    <script>
        // Configuraci√≥n global de Chart.js
        Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
        Chart.defaults.font.size = 12;
        Chart.defaults.color = '#2c3e50';
        
        // Paleta de colores consistente
        const colors = {
            primary: '#667eea',
            secondary: '#764ba2',
            success: '#4caf50',
            warning: '#ff9800',
            danger: '#f44336',
            info: '#2196f3',
            purple: '#9c27b0',
            teal: '#009688',
            gradient: ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#00f2fe', '#43e97b']
        };
        
        // Gr√°fico 1: Estimaci√≥n de Escalamientos Innecesarios
        new Chart(document.getElementById('chart1'), {
            type: 'bar',
            data: {
                labels: ['Supervisor 1', 'Supervisor 2', 'Supervisor 3', 'Supervisor 4', 'Promedio'],
                datasets: [{
                    label: 'Porcentaje de escalamientos innecesarios (%)',
                    data: [30, 40, 50, 35, 38],
                    backgroundColor: [colors.primary, colors.secondary, colors.info, colors.teal, colors.danger],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    title: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 60,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 2: Distribuci√≥n por Edad
        new Chart(document.getElementById('chart2'), {
            type: 'doughnut',
            data: {
                labels: ['18-25 a√±os', '26-35 a√±os', '36-45 a√±os', 'M√°s de 45 a√±os'],
                datasets: [{
                    data: [33, 39, 22, 6],
                    backgroundColor: [colors.primary, colors.secondary, colors.info, colors.teal],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right' },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.parsed + '%';
                            }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 3: Nivel Educativo
        new Chart(document.getElementById('chart3'), {
            type: 'pie',
            data: {
                labels: ['Tecn√≥logo', 'T√©cnico', 'Profesional', 'Especializaci√≥n'],
                datasets: [{
                    data: [50, 28, 17, 5],
                    backgroundColor: [colors.success, colors.warning, colors.info, colors.purple],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right' },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.parsed + '%';
                            }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 4: Desplazamientos Semanales
        new Chart(document.getElementById('chart4'), {
            type: 'bar',
            data: {
                labels: ['1-5', '6-10', '11-15', '16-20', 'M√°s de 20'],
                datasets: [{
                    label: 'Porcentaje de t√©cnicos',
                    data: [22, 39, 28, 11, 0],
                    backgroundColor: colors.gradient,
                    borderRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'N√∫mero de desplazamientos semanales'
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 5: Potencial Resoluci√≥n Remota
        new Chart(document.getElementById('chart5'), {
            type: 'bar',
            data: {
                labels: ['0-10%', '11-25%', '26-50%', '51-75%', 'M√°s de 75%'],
                datasets: [{
                    label: 'Porcentaje de t√©cnicos',
                    data: [6, 17, 44, 28, 5],
                    backgroundColor: [colors.success, colors.info, colors.warning, colors.danger, colors.purple],
                    borderRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 6: Tipos de Incidentes
        new Chart(document.getElementById('chart6'), {
            type: 'bar',
            data: {
                labels: ['Software/aplicaciones', 'Hardware', 'Impresoras', 'Red/conectividad', 'Config. equipos', 'Reemplazo'],
                datasets: [{
                    label: 'Porcentaje de t√©cnicos que lo seleccion√≥',
                    data: [72, 67, 56, 50, 39, 33],
                    backgroundColor: colors.gradient,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 80,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 7: Frecuencia Uso Herramientas
        new Chart(document.getElementById('chart7'), {
            type: 'doughnut',
            data: {
                labels: ['Siempre', 'Frecuentemente', 'Ocasionalmente', 'Raramente', 'Nunca'],
                datasets: [{
                    data: [11, 28, 39, 17, 5],
                    backgroundColor: [colors.success, colors.info, colors.warning, colors.danger, '#666'],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right' }
                }
            }
        });
        
        // Gr√°fico 8: Dominio de Herramientas
        new Chart(document.getElementById('chart8'), {
            type: 'radar',
            data: {
                labels: ['Nivel 1', 'Nivel 2', 'Nivel 3', 'Nivel 4', 'Nivel 5'],
                datasets: [
                    {
                        label: 'Remote Help',
                        data: [10, 20, 37, 20, 13],
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: colors.primary,
                        pointBackgroundColor: colors.primary,
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: colors.primary
                    },
                    {
                        label: 'Microsoft Teams',
                        data: [5, 10, 24, 35, 26],
                        backgroundColor: 'rgba(76, 175, 80, 0.2)',
                        borderColor: colors.success,
                        pointBackgroundColor: colors.success,
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: colors.success
                    },
                    {
                        label: 'System Center',
                        data: [15, 28, 35, 15, 7],
                        backgroundColor: 'rgba(244, 67, 54, 0.2)',
                        borderColor: colors.danger,
                        pointBackgroundColor: colors.danger,
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: colors.danger
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 40,
                        ticks: {
                            stepSize: 10,
                            callback: function(value) { return value + '%'; }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 9: Limitaciones T√©cnicas
        new Chart(document.getElementById('chart9'), {
            type: 'bar',
            data: {
                labels: [
                    'Falta de acceso remoto',
                    'Conectividad deficiente',
                    'Equipos sin herramientas',
                    'Herramientas insuficientes',
                    'Falta de permisos admin',
                    'Falta conocimiento t√©cnico'
                ],
                datasets: [{
                    label: 'Porcentaje de t√©cnicos que lo identific√≥',
                    data: [78, 72, 67, 44, 39, 33],
                    backgroundColor: colors.gradient,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 90,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 10: Cumplimiento SLA
        new Chart(document.getElementById('chart10'), {
            type: 'bar',
            data: {
                labels: ['Siempre\n(90-100%)', 'Frecuente\n(70-89%)', 'Ocasional\n(50-69%)', 'Rara\n(30-49%)', 'Nunca\n(<30%)'],
                datasets: [{
                    label: 'Porcentaje de t√©cnicos',
                    data: [17, 50, 28, 5, 0],
                    backgroundColor: [colors.success, colors.info, colors.warning, colors.danger, '#666'],
                    borderRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 60,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 11: Causas Incumplimiento
        new Chart(document.getElementById('chart11'), {
            type: 'pie',
            data: {
                labels: [
                    'Distancia/tiempo desplazamiento',
                    'M√∫ltiples casos simult√°neos',
                    'Complejidad t√©cnica',
                    'Mala documentaci√≥n inicial'
                ],
                datasets: [{
                    data: [44, 28, 17, 11],
                    backgroundColor: [colors.danger, colors.warning, colors.info, colors.purple],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right' },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.parsed + '%';
                            }
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 12: Disposici√≥n al Cambio
        new Chart(document.getElementById('chart12'), {
            type: 'doughnut',
            data: {
                labels: ['Totalmente dispuesto', 'Dispuesto', 'Neutral', 'Poco dispuesto', 'Nada dispuesto'],
                datasets: [{
                    data: [44, 39, 17, 0, 0],
                    backgroundColor: [colors.success, colors.info, colors.warning, colors.danger, '#666'],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });
        
        // Gr√°fico 13: Distribuci√≥n de Casos Observados
        new Chart(document.getElementById('chart13'), {
            type: 'bar',
            data: {
                labels: ['Software', 'Hardware', 'Red', 'Impresoras', 'Configuraci√≥n', 'Reemplazo'],
                datasets: [{
                    label: 'N√∫mero de casos',
                    data: [42, 28, 23, 18, 11, 5],
                    backgroundColor: colors.gradient,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Frecuencia absoluta'
                        }
                    }
                }
            }
        });
        
        // Gr√°fico 14: Resoluci√≥n vs Escalamiento
        new Chart(document.getElementById('chart14'), {
            type: 'bar',
            data: {
                labels: ['Software', 'Hardware', 'Red', 'Impresoras', 'Configuraci√≥n', 'Reemplazo'],
                datasets: [
                    {
                        label: 'Resuelto remotamente (%)',
                        data: [71.4, 35.7, 60.9, 44.4, 63.6, 0],
                        backgroundColor: colors.success,
                        borderRadius: 5
                    },
                    {
                        label: 'Escalado a campo (%)',
                        data: [28.6, 64.3, 39.1, 55.6, 36.4, 100],
                        backgroundColor: colors.danger,
                        borderRadius: 5
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'top' }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        stacked: true,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    },
                    x: {
                        stacked: true
                    }
                }
            }
        });
        
        // Gr√°fico 15: Triangulaci√≥n
        new Chart(document.getElementById('chart15'), {
            type: 'bar',
            data: {
                labels: ['Supervisores\n(Promedio)', 'T√©cnicos\n(Promedio)', 'Observaci√≥n\nDirecta', 'Estimaci√≥n\nConsolidada'],
                datasets: [{
                    label: 'Porcentaje de escalamientos innecesarios',
                    data: [38, 44, 29.2, 36],
                    backgroundColor: [colors.primary, colors.secondary, colors.info, colors.success],
                    borderWidth: 2,
                    borderColor: '#fff',
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        ticks: {
                            callback: function(value) { return value + '%'; }
                        }
                    }
                }
            }
        });
        
        // Funci√≥n para descargar un gr√°fico individual
        function descargarGrafico(chartId, nombre) {
            const canvas = document.getElementById(chartId);
            const url = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = nombre + '.png';
            link.href = url;
            link.click();
        }
        
        // Funci√≥n para descargar todos los gr√°ficos
        async function descargarTodos() {
            const charts = [
                'chart1', 'chart2', 'chart3', 'chart4', 'chart5', 
                'chart6', 'chart7', 'chart8', 'chart9', 'chart10',
                'chart11', 'chart12', 'chart13', 'chart14', 'chart15'
            ];
            
            const nombres = [
                'escalamientos-innecesarios', 'distribucion-edad', 'nivel-educativo',
                'desplazamientos-semanales', 'potencial-remoto', 'tipos-incidentes',
                'frecuencia-herramientas', 'dominio-herramientas', 'limitaciones-tecnicas',
                'cumplimiento-sla', 'causas-incumplimiento', 'disposicion-cambio',
                'distribucion-casos', 'resolucion-escalamiento', 'triangulacion-datos'
            ];
            
            for (let i = 0; i < charts.length; i++) {
                await new Promise(resolve => setTimeout(resolve, 500));
                descargarGrafico(charts[i], nombres[i]);
            }
            
            alert('‚úÖ Todos los gr√°ficos se han descargado correctamente.');
        }
    </script>
</body>
</html>